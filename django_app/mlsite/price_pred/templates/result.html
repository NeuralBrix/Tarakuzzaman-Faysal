<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prediction Result</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1020;
      --card: rgba(255, 255, 255, 0.08);
      --card-border: rgba(255, 255, 255, 0.15);
      --text: #e8ecf1;
      --muted: #a6b0c0;
      --accent-start: #7c3aed;
      --accent-end: #22d3ee;
      --focus: #93c5fd;
      --success: #22c55e;
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f5f7fb;
        --card: rgba(255,255,255,0.9);
        --card-border: rgba(17,24,39,0.06);
        --text: #0b1220;
        --muted: #51607a;
      }
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 1200px at 10% -10%, rgba(124,58,237,.25), transparent 60%),
                  radial-gradient(1000px 1000px at 110% 10%, rgba(34,211,238,.25), transparent 60%),
                  linear-gradient(180deg, #0b1020 0%, #0b1020 60%, #0f172a 100%);
      display: grid;
      place-items: center;
      padding: 2rem;
    }

    .shell { width: 100%; max-width: 880px; }

    .header { text-align: center; margin-bottom: 1.25rem; }
    .eyebrow {
      display: inline-flex; align-items: center; gap: .5rem; font-size: .8rem; letter-spacing: .08em; text-transform: uppercase; color: var(--muted);
      background: linear-gradient(90deg, rgba(124,58,237,.15), rgba(34,211,238,.15)); padding: .4rem .75rem; border-radius: 999px; border: 1px solid var(--card-border);
    }
    h1.title { margin: .75rem 0 0; font-size: clamp(1.8rem, 2.6vw + 1rem, 2.75rem); line-height: 1.1; }
    p.subtitle { margin: .5rem auto 0; max-width: 58ch; color: var(--muted); }

    .card {
      position: relative; background: var(--card); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--card-border); border-radius: 20px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,.25);
    }
    .card-inner { position: relative; z-index: 1; padding: 1.5rem; }

    .result-grid { display: grid; grid-template-columns: 1.1fr .9fr; gap: 1.25rem; }
    @media (max-width: 820px) { .result-grid { grid-template-columns: 1fr; } }

    .panel { padding: 1.25rem; border-radius: 16px; border: 1px solid var(--card-border); background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)); }
    .panel h2 { margin: 0 0 .75rem; font-size: 1.1rem; }

    .pill-row { display: flex; flex-wrap: wrap; gap: .5rem; }
    .pill {
      display: inline-flex; align-items: center; gap: .45rem; padding: .5rem .75rem; border-radius: 999px; border: 1px solid var(--card-border);
      background: rgba(255,255,255,.05); color: var(--muted); font-size: .9rem;
    }

    .price {
      margin-top: .5rem; border-radius: 16px; padding: 1.25rem; border: 1px solid var(--card-border);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0));
    }
    .price .label { color: var(--muted); font-weight: 600; letter-spacing: .06em; text-transform: uppercase; font-size: .8rem; }
    .price .value { font-weight: 800; font-size: clamp(1.8rem, 3.6vw + 1rem, 3rem); line-height: 1.1; margin-top: .35rem; }
    .gradient-text { background: linear-gradient(90deg, var(--accent-start), var(--accent-end)); -webkit-background-clip: text; background-clip: text; color: transparent; }

    .conf {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: .75rem; margin-top: .75rem;
    }
    @media (max-width: 520px) { .conf { grid-template-columns: 1fr; } }
    .conf .box { padding: .9rem; border-radius: 12px; border: 1px solid var(--card-border); background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0)); }
    .conf .k { font-weight: 800; font-size: 1.1rem; }
    .conf .lbl { color: var(--muted); font-size: .8rem; }

    .actions { display: flex; flex-wrap: wrap; gap: .6rem; align-items: center; margin-top: 1rem; }
    .btn { appearance: none; border: 0; cursor: pointer; font-weight: 700; letter-spacing: .02em; padding: .9rem 1.1rem; border-radius: 14px; transition: transform .06s ease, box-shadow .2s ease, opacity .2s ease; }
    .btn-primary { background: linear-gradient(90deg, var(--accent-start), var(--accent-end)); color: white; box-shadow: 0 10px 30px rgba(34,211,238,.25), 0 4px 14px rgba(124,58,237,.25); }
    .btn-primary:hover { box-shadow: 0 12px 36px rgba(34,211,238,.32), 0 6px 18px rgba(124,58,237,.32); }
    .btn-primary:active { transform: translateY(1px); }
    .btn-ghost { background: transparent; color: var(--muted); }
    .btn-ghost:hover { color: var(--text); }

    .table { width: 100%; border-collapse: collapse; margin-top: .5rem; }
    .table th, .table td { text-align: left; padding: .6rem .6rem; border-bottom: 1px dashed var(--card-border); }
    .table th { color: var(--muted); font-weight: 600; font-size: .85rem; }

    footer { margin-top: 1.25rem; text-align: center; color: var(--muted); font-size: .85rem; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</head>
<body>
  <div class="shell">
    <header class="header">
      <div class="eyebrow" aria-hidden="true">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M3 3v18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M6 15l4-4 3 3 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ML Price Prediction
      </div>
      <h1 class="title">Prediction <span class="gradient-text">Result</span></h1>
      <p class="subtitle">Below is the breakdown of your input and the model's estimated property price.</p>
    </header>

    <main class="card">
      <div class="card-inner">
        <div class="result-grid">
          <!-- Left: Summary & price -->
          <section class="panel" aria-labelledby="result-heading">
            <h2 id="result-heading">Estimate</h2>

            <div class="pill-row" role="list">
              <span class="pill" role="listitem">
                <strong>Area:</strong> {{ area_sqft }} sqft
              </span>
              <span class="pill" role="listitem">
                <strong>Bedrooms:</strong> {{ bedrooms }}
              </span>
              <span class="pill" role="listitem">
                <strong>Bathrooms:</strong> {{ bathrooms }}
              </span>
              <span class="pill" role="listitem">
                <strong>Location:</strong> {{ location }}
              </span>
            </div>

            <div class="price" aria-live="polite">
              <div class="label">Predicted Price</div>
              <div class="value gradient-text">(demo only, ML not yet connected)</div>
            </div>

            <div class="conf" aria-label="Model metadata">
              <div class="box"><div class="k">± 8–12%</div><div class="lbl">Typical error band*</div></div>
              <div class="box"><div class="k">R² ~ 0.82</div><div class="lbl">Validation score (sample)</div></div>
              <div class="box"><div class="k">&lt; 1s</div><div class="lbl">Avg. latency</div></div>
            </div>

            <div class="actions">
              <a href="{% url 'home' %}" class="btn btn-primary">Go back &amp; try another</a>
              <button class="btn btn-ghost" id="copyBtn" type="button" aria-describedby="copyHelp">Copy summary</button>
              <button class="btn btn-ghost" id="printBtn" type="button">Save / Print</button>
              <span id="copyHelp" class="sr-only">Copies key details to clipboard</span>
            </div>
          </section>

          <!-- Right: Details table (optional) -->
          <aside class="panel">
            <h2>Details</h2>
            <table class="table" aria-describedby="tbl-help">
              <thead>
                <tr>
                  <th>Feature</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Area (sqft)</td>
                  <td>{{ area_sqft }}</td>
                </tr>
                <tr>
                  <td>Bedrooms</td>
                  <td>{{ bedrooms }}</td>
                </tr>
                <tr>
                  <td>Bathrooms</td>
                  <td>{{ bathrooms }}</td>
                </tr>
                <tr>
                  <td>Location</td>
                  <td>{{ location }}</td>
                </tr>
                <tr>
                  <td>Predicted Price</td>
                  <td>(demo only)</td>
                </tr>
              </tbody>
            </table>
            <p id="tbl-help" class="muted" style="color: var(--muted); margin-top: .5rem">* Replace demo values once the ML backend is wired up.</p>
          </aside>
        </div>
      </div>
    </main>

    <footer>
      <span>Need a JSON API? Return <em>{ price, currency, confidence }</em> and render here.</span>
    </footer>
  </div>

  <script>
    // Copy a compact, human-readable summary
    const copyBtn = document.getElementById('copyBtn');
    copyBtn?.addEventListener('click', async () => {
      const text = `Prediction Result\n\nArea: {{ area_sqft }} sqft\nBedrooms: {{ bedrooms }}\nBathrooms: {{ bathrooms }}\nLocation: {{ location }}\n\nPredicted Price: (demo only)`;
      try {
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = 'Copied!';
        setTimeout(() => (copyBtn.textContent = 'Copy summary'), 1600);
      } catch (e) {
        copyBtn.textContent = 'Copy failed';
        setTimeout(() => (copyBtn.textContent = 'Copy summary'), 1600);
      }
    });

    // Print / Save as PDF
    const printBtn = document.getElementById('printBtn');
    printBtn?.addEventListener('click', () => window.print());
  </script>
</body>
</html>